#+TITLE: LanguageTool layer

[[img/languagetool.png]]

* Table of Contents                                        :TOC_4_gh:noexport:
 - [[#description][Description]]
 - [[#todos][Todos]]
 - [[#install][Install]]
   - [[#layer][Layer]]
   - [[#languagetool][LanguageTool]]
 - [[#key-bindings][Key bindings]]

* Description
This layer adds grammar checking using [[https://www.languagetool.org/][LanguageTool]]. ~SPC S l~ toggles
LanguageTool on or off for the current buffer. The language set using ~SPC S d~
gets passed to LanguageTool.

* Todos
- [X] Automatically set =langtool-default-language= to the current spell
  checking language.
- [ ] Add more languages to the rule ignore list.
- [X] Add a command for running =langtool-check-buffer= under ~SPC S l~. This
  command should also run =flyspell-buffer=.
- [ ] Add the ability to navigate to errors using ~[ s~ and ~] s~.

* Install
** Layer
To use this configuration layer, add it to your =~/.spacemacs=. You will need to
add =languagetool= to the existing =dotspacemacs-configuration-layers= list in this
file.

** LanguageTool
LanguageTool and JRE 8+ are required to use this layer. You can install
LanguageTool using your system's package manager or by extracting the standalone
archive on [[https://www.languagetool.org/][LanguageTool's website]]. You can tell the layer where languagetool is
installed by setting the =langtool-language-tool-jar= variable to the location
of =languagetool-commandline.jar= or by setting =langtool-java-classpath=:

#+BEGIN_SRC elisp
  ;; Standalone installation
  (setq-default dotspacemacs-configuration-layers
                '((languagetool :variables
                                langtool-language-tool-jar "/home/username/languagetool/languagetool-commandline.jar")))

  ;; Classpath (e.g. after installing with `pacman -S languagetool')
  (setq-default dotspacemacs-configuration-layers
                '((languagetool :variables
                                langtool-java-classpath "/usr/share/languagetool:/usr/share/java/languagetool/*")))
#+END_SRC

* Key bindings
| Key Binding | Description                                |
|-------------+--------------------------------------------|
| ~SPC S l~   | Toggle LanguageTool for the current buffer |
